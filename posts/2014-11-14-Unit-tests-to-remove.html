<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" href="images/favicon.ico" />
        <title>Blog - Which unit tests to remove</title>
        <link rel="stylesheet" href="../css/default.css" />
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() {
                let myName = 'pavel',
                    domain = '&#101toconsult&#105&#110&#103&#46&#115k',
                    elements = document.querySelectorAll('[href=""]'),
                    adr = myName + '&#64&#108' + domain,
                    m = 'mail';

                if (elements[0]) {
                    elements[0].innerHTML = adr;
                    elements[0].href = m + 'to' + ':' + adr;
                }
            }, false);
        </script>
    </head>
    <body>
        <header>
            <nav>
                <a href="../">Home</a>
                <a href="../about.html">About</a>
            </nav>
        </header>

        <main role="main">
            <article>
    <section class="header">
        <h1>Which unit tests to remove</h1>
        <div class="meta">[2014-11-14] </div>
        <p>When unit tests cause more harm than good</p>
    </section>
    <section>
        <p>Unit tests in Java usually test classes via setting dummy state and executing methods. On many projects the number of units tests increases, and they are rarely removed.</p>
<p>Unfortunately too many unit tests can have negative consequences, because they make changes in production code more difficult.</p>
<p>In theory unit tests should prevent changes that introduce bugs and defect regressions.</p>
<p>In practice, I see that a lot of tests that check API calls more than the (business) functionality. This has the following negative repercussion:</p>
<ul>
<li>tests pass even if you utterly brake production code (as long as the right sequence of API calls is maintained),</li>
<li>Making changes to production code is difficult because unit tests are hard-wired to the existing API structure, a change in production code leads to a cascade of changes in test code.</li>
</ul>
<p>Sometimes it would be beneficial to throw some unit tests out. I have gathered some advice on which unit tests are good candidates for removal (mostly from James Coplien and from my experience). They are as follows:</p>
<ul>
<li>tests that always succeed (never fail for more than ~ 1 year),</li>
<li>test that don’t change when functionality of the system changes,</li>
<li>tautological tests (e.g. setting something and checking if it’s there),</li>
<li>tests in which it’s not possible to pinpoint what business functionality is invalidated when they fail,</li>
<li>unit tests that can be changed to assertions,</li>
<li>tests that duplicate what integrations tests already do.</li>
</ul>
    </section>
    <nav>
        <a href="../">back</a>
    </nav>
</article>

        </main>

        <footer>
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </footer>

    </body>
</html>
